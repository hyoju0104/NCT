<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
	
	<link rel="stylesheet" th:href="@{/css/common.css}">
	<link rel="stylesheet" th:href="@{/css/login.css}">
	
	<title>상품 목록</title>
</head>

<body>
<!-- 상단 메뉴 -->
<th:block th:insert="~{common/header::header}"></th:block>

<div class="items-container">
	<div class="section-header">
		<h2 class="section-title">상품 목록</h2>
	</div>

	<!-- 카테고리 필터 -->
	<div class="category-filter">
		<a href="/item/list" class="category-btn" th:classappend="${category == null} ? 'active' : ''">전체</a>
		<a href="/item/category/상의" class="category-btn" th:classappend="${category == '상의'} ? 'active' : ''">상의</a>
		<a href="/item/category/하의" class="category-btn" th:classappend="${category == '하의'} ? 'active' : ''">하의</a>
		<a href="/item/category/아우터" class="category-btn" th:classappend="${category == '아우터'} ? 'active' : ''">아우터</a>
		<a href="/item/category/신발" class="category-btn" th:classappend="${category == '신발'} ? 'active' : ''">신발</a>
		<a href="/item/category/잡화" class="category-btn" th:classappend="${category == '잡화'} ? 'active' : ''">잡화</a>
	</div>

	<!-- 상품 테이블 -->
	<div class="table-container">
		<table class="item-table">
			<thead>
			<tr>
				<th width="50%">상품명</th>
				<th width="30%">브랜드</th>
				<th width="20%">대여 상태</th>
			</tr>
			</thead>
			<tbody>
			<tr th:each="item : ${items}">
				<td>
					<a th:href="@{'/item/detail/' + ${item.id}}" class="item-link" th:text="${item.name}"></a>
				</td>
				<td th:text="${item.brand.name}"></td>
				<td class="availability-cell">
                        <span class="availability-badge" th:classappend="${item.isAvailable} ? 'available' : 'unavailable'"
							  th:text="${item.isAvailable} ? '대여가능' : '대여불가'"></span>
				</td>
			</tr>
			<tr th:if="${#lists.isEmpty(items)}" class="no-hover">
				<td colspan="3" class="empty-message">
					등록된 상품이 없습니다
				</td>
			</tr>
			</tbody>
		</table>
	</div>
</div>
</body>
</html>